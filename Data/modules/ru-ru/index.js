function n(e){const l=game.system.title;if(typeof Babele!=="undefined")Babele.get().register({module:"ru-ru",lang:"ru",dir:`compendium/${e}`}),game.settings.set("babele","showOriginalName",!0);else new Dialog({title:"\u041F\u0435\u0440\u0435\u0432\u043E\u0434 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A",content:`<p>\u0414\u043B\u044F \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0430 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A <b>${l}</b> \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043C\u043E\u0434\u0443\u043B\u0438 <b>Babele \u0438 libWrapper</b><p>`,buttons:{done:{label:"\u0425\u043E\u0440\u043E\u0448\u043E"}}}).render(!0)}function f(e,l){return l[e.trim()]||e}function b(){n("alienrpg")}function c(){n("blades-in-the-dark"),Hooks.on("ready",()=>{if(game.system.version.startsWith("4"))ui.notifications.warn("\u0412\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0443\u044E \u0432\u0435\u0440\u0441\u0438\u044E \u0441\u0438\u0441\u0442\u0435\u043C\u044B. \u0414\u043B\u044F \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0439 \u0440\u0430\u0431\u043E\u0442\u044B, \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u0443 \u0434\u043E 5.0+")})}function p(){n("city-of-mist")}function m(){async function e(){const l=document.getElementsByClassName("grid grid-3col");for(let o of l){const s=o.childNodes,i=[];for(let a of s)if(a.innerText&&a.tagName==="DIV")i.push(a);i.sort((a,t)=>a.innerText.localeCompare(t.innerText));for(let a of i)o.appendChild(a)}}Hooks.on("renderActorSheet",async()=>{e()})}function d(){if(game.settings.register("ru-ru","altTranslation",{name:"(D&D5E) \u0410\u043B\u044C\u0442\u0435\u0440\u043D\u0430\u0442\u0438\u0432\u043D\u044B\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434",hint:"(\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u043C\u043E\u0434\u0443\u043B\u044C libWrapper) \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0430\u043B\u044C\u0442\u0435\u0440\u043D\u0430\u0442\u0438\u0432\u043D\u044B\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 D&D5E \u043E\u0442 Phantom Studio. \u0418\u043D\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u043E\u0444\u0438\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0438\u0437\u0434\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430 Hobby World.",type:Boolean,default:!1,scope:"world",config:!0,restricted:!0,onChange:(e)=>{window.location.reload()}}),game.settings.register("ru-ru","compendiumTranslation",{name:"(D&D5E) \u041F\u0435\u0440\u0435\u0432\u043E\u0434 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A",hint:"(\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u043C\u043E\u0434\u0443\u043B\u044C Babele) \u0411\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0438 \u0441\u0438\u0441\u0442\u0435\u043C\u044B D&D5E \u0431\u0443\u0434\u0443\u0442 \u043F\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043D\u044B.",type:Boolean,default:!0,scope:"world",config:!0,restricted:!0,onChange:(e)=>{window.location.reload()}}),game.settings.get("ru-ru","compendiumTranslation")){if(game.settings.get("ru-ru","altTranslation")?n("dnd5e/ps"):n("dnd5e/hw"),game.modules.get("symbaroum5ecore")?.active)n("dnd5e/ros");Babele.get().registerConverters({dndpages(e,l){return e.map((o)=>{if(!l)return o;let s;if(Array.isArray(l))s=l.find((i)=>i.id===o._id||i.id===o.name);else s=l[o.name];if(!s)return o;return mergeObject(o,{name:s.name,image:{caption:s.caption??o.image?.caption},src:s.src??o.src,text:{content:s.text??o.text?.content},video:{width:s.width??o.video?.width,height:s.height??o.video?.height},system:{tooltip:s.tooltip??o.system.tooltip},translated:!0})})}})}else if(game.settings.get("ru-ru","compendiumTranslation"))new Dialog({title:"\u041F\u0435\u0440\u0435\u0432\u043E\u0434 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A",content:"<p>\u0414\u043B\u044F \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0430 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A \u0441\u0438\u0441\u0442\u0435\u043C\u044B D&D5E \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043C\u043E\u0434\u0443\u043B\u044C <b>Babele</b>. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A \u0432 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430\u0445 \u043C\u043E\u0434\u0443\u043B\u044F</p>",buttons:{done:{label:"\u0425\u043E\u0440\u043E\u0448\u043E"},never:{label:"\u0411\u043E\u043B\u044C\u0448\u0435 \u043D\u0435 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C",callback:()=>{game.settings.set("ru-ru","compendiumTranslation",!1)}}}}).render(!0);if(game.settings.get("ru-ru","altTranslation"))if(typeof libWrapper==="function")libWrapper.register("ru-ru","Localization.prototype._getTranslations",C,"WRAPPER");else new Dialog({title:"\u0410\u043B\u044C\u0442\u0435\u0440\u043D\u0430\u0442\u0438\u0432\u043D\u044B\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434",content:"<p>\u0414\u043B\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F \u0430\u043B\u044C\u0442\u0435\u0440\u043D\u0430\u0442\u0438\u0432\u043D\u043E\u0433\u043E \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043C\u043E\u0434\u0443\u043B\u044C <b>libWrapper</b></p>",buttons:{done:{label:"\u0425\u043E\u0440\u043E\u0448\u043E"}}}).render(!0);Hooks.on("renderSettingsConfig",(e,l,o)=>{if(!game.user.isGM)return;const s=l.find('input[name="ru-ru.compendiumTranslation"]').closest(".form-group"),i=$(`
  <label>
    \u041F\u0435\u0440\u0435\u0434 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u043E\u043C \u0430\u043D\u0438\u043C\u0430\u0446\u0438\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043C\u043E\u0434\u0443\u043B\u0438 Automated Animations, D&D5E Animations, JB2A Patreon
  </label>
  <div class="form-group">
      <button type="button">
          <i class="fas fa-cogs"></i>
          <label>\u041F\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0430\u043D\u0438\u043C\u0430\u0446\u0438\u0438</label>
      </button>
  </div>
  `);i.find("button").click((a)=>{a.preventDefault(),P()}),s.after(i)})}async function C(e,l){const o=await e(l),i=["modules/ru-ru/i18n/systems/dnd5e-alt.json","modules/ru-ru/i18n/modules/always-hp-alt.json","modules/ru-ru/i18n/modules/arbron-hp-bar-alt.json","modules/ru-ru/i18n/modules/combat-utility-belt-alt.json","modules/ru-ru/i18n/modules/dae-alt.json","modules/ru-ru/i18n/modules/damage-log-alt.json","modules/ru-ru/i18n/modules/health-monitor-alt.json","modules/ru-ru/i18n/modules/midi-qol-alt.json","modules/ru-ru/i18n/modules/tidy5e-sheet-alt.json","modules/ru-ru/i18n/modules/token-action-hud-dnd5e-alt.json","modules/ru-ru/i18n/modules/ready-set-roll-5e-alt.json"].map((a)=>this._loadTranslationFile(a));await Promise.all(i);for(let a of i){const t=await a;foundry.utils.mergeObject(o,t,{inplace:!0})}return o}async function P(){const e=await foundry.utils.fetchJsonWithTimeout("/modules/ru-ru/i18n/modules/aa-autorec.json"),l=AutomatedAnimations.AutorecManager.getAutorecEntries(),o={melee:u(l.melee,e.melee),range:u(l.range,e.range),ontoken:u(l.ontoken,e.ontoken),templatefx:u(l.templatefx,e.templatefx),aura:u(l.aura,e.aura),preset:u(l.preset,e.preset),aefx:u(l.aefx,e.aefx),version:"5"};AutomatedAnimations.AutorecManager.overwriteMenus(JSON.stringify(o),{submitAll:!0})}var u=function(e,l){const o=new Map(l.map((s)=>[s.metaData.label,s]));return e.map((s)=>{const i=o.get(s.metaData.label);return i?{...s,...i}:s})};function v(){n("dragonbane")}function L(){n("dungeonworld")}function g(){Hooks.on("ready",async()=>{await game.settings.set("forbidden-lands","datasetDir","modules/ru-ru/compendium/fbl/dataset/dataset-ru.json"),console.log("\u0410\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u043A\u043E\u043D\u0441\u0442\u0440\u0443\u043A\u0442\u043E\u0440\u0430 Forbidden Lands")})}function x(){n("investigator")}function k(){n("mausritter")}function h(){n("mouseguard")}function y(){if(game.modules.get("masks-newgeneration-sheets")?.active)n("pbta/masks"),W()}var W=function(){Hooks.once("pbtaSheetConfig",()=>{game.settings.set("pbta","sheetConfigOverride",!0),game.pbta.sheetConfig={rollFormula:"2d6",statToggle:{label:"Locked",modifier:0},rollResults:{failure:{start:null,end:6,label:"\u041E\u0441\u043B\u043E\u0436\u043D\u0435\u043D\u0438\u044F..."},partial:{start:7,end:9,label:"\u0427\u0430\u0441\u0442\u0438\u0447\u043D\u044B\u0439 \u0443\u0441\u043F\u0435\u0445"},success:{start:10,end:null,label:"\u0423\u0441\u043F\u0435\u0445!"}},actorTypes:{character:{stats:{danger:{label:"\u0414\u0435\u0440\u0437\u043A\u0438\u0439",value:0},freak:{label:"\u0421\u0442\u0440\u0430\u043D\u043D\u044B\u0439",value:0},savior:{label:"\u0412\u0435\u0440\u043D\u044B\u0439",value:0},superior:{label:"\u0425\u0438\u0442\u0440\u044B\u0439",value:0},mundane:{label:"\u041E\u0431\u044B\u0447\u043D\u044B\u0439",value:0}},attrTop:{heroName:{label:"\u0418\u043C\u044F \u0433\u0435\u0440\u043E\u044F",description:null,customLabel:!1,userLabel:!1,type:"Text",value:""},advances:{label:"\u041F\u0440\u043E\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F",description:null,customLabel:!1,userLabel:!1,type:"Number",value:0},xp:{label:"\u041F\u043E\u0442\u0435\u043D\u0446\u0438\u0430\u043B",description:null,customLabel:!1,userLabel:!1,type:"Xp",value:0,max:5,steps:[!1,!1,!1,!1,!1]},momentUnlocked:{label:"\u041C\u043E\u043C\u0435\u043D\u0442 \u0438\u0441\u0442\u0438\u043D\u044B",description:null,customLabel:!1,userLabel:!1,type:"Checkbox",checkboxLabel:"Unlocked",value:!1}},attrLeft:{conditions:{label:"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F",description:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u0440\u0438\u043C\u0435\u043D\u0438\u043C\u044B\u0435:",customLabel:!1,userLabel:!1,type:"ListMany",condition:!0,options:{0:{label:"Afraid (-2 to engage)",value:!1},1:{label:"Angry (-2 to comfort or pierce)",value:!1},2:{label:"Guilty (-2 to provoke or assess)",value:!1},3:{label:"Hopeless (-2 to unleash)",value:!1},4:{label:"Insecure (-2 to defend or reject)",value:!1}}},look:{label:"\u0412\u043D\u0435\u0448\u043D\u043E\u0441\u0442\u044C",description:null,customLabel:!1,userLabel:!1,type:"LongText",value:""},abilities:{label:"\u0421\u043F\u043E\u0441\u043E\u0431\u043D\u043E\u0441\u0442\u0438",description:null,customLabel:!1,userLabel:!1,type:"LongText",value:""},influence:{label:"\u0412\u043B\u0438\u044F\u043D\u0438\u0435",description:null,customLabel:!1,userLabel:!1,type:"LongText",value:""},moment:{label:"\u041C\u043E\u043C\u0435\u043D\u0442 \u0438\u0441\u0442\u0438\u043D\u044B",description:null,customLabel:!1,userLabel:!1,type:"LongText",value:""},advancements:{label:"\u041F\u0440\u043E\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F",description:null,customLabel:!1,userLabel:!1,type:"ListMany",condition:!1,options:{0:{label:"[Text]",value:!1},1:{label:"[Text]",value:!1}}}},moveTypes:{basic:{label:"\u041E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u0445\u043E\u0434\u044B",moves:[]},playbook:{label:"\u0425\u043E\u0434\u044B \u0430\u0440\u0445\u0435\u0442\u0438\u043F\u0430",moves:[]},team:{label:"\u0425\u043E\u0434\u044B \u043A\u043E\u043C\u0430\u043D\u0434\u044B",moves:[]},adult:{label:"\u0425\u043E\u0434\u044B \u0432\u0437\u0440\u043E\u0441\u043B\u043E\u0433\u043E",moves:[]}}},npc:{attrTop:{realName:{label:"\u041D\u0430\u0441\u0442\u043E\u044F\u0449\u0435\u0435 \u0438\u043C\u044F",description:null,customLabel:!1,userLabel:!1,type:"Text",value:""}},attrLeft:{conditions:{label:"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F",description:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u0440\u0438\u043C\u0435\u043D\u0438\u043C\u044B\u0435:",customLabel:!1,userLabel:!1,type:"ListMany",condition:!1,options:{0:{label:"\u041D\u0430\u043F\u0443\u0433\u0430\u043D",value:!1},1:{label:"\u0417\u043E\u043B",value:!1},2:{label:"\u0412\u0438\u043D\u043E\u0432\u0430\u0442",value:!1},3:{label:"\u041E\u0442\u0447\u0430\u044F\u043D",value:!1},4:{label:"\u041D\u0435\u0443\u0432\u0435\u0440\u0435\u043D",value:!1}}},drive:{label:"\u041C\u043E\u0442\u0438\u0432\u0430\u0446\u0438\u044F",description:null,customLabel:!1,userLabel:!1,type:"LongText",value:""},abilities:{label:"\u0421\u043F\u043E\u0441\u043E\u0431\u043D\u043E\u0441\u0442\u0438",description:null,customLabel:!1,userLabel:!1,type:"LongText",value:""},generation:{label:"\u041F\u043E\u043A\u043E\u043B\u0435\u043D\u0438\u0435",description:null,customLabel:!1,userLabel:!1,type:"Text",value:""}},moveTypes:{villain:{label:"\u0425\u043E\u0434\u044B \u0437\u043B\u043E\u0434\u0435\u044F",moves:[]},condition:{label:"\u0425\u043E\u0434\u044B \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F",moves:[]}}}}}})};function B(){H(),T(),Hooks.on("ready",()=>{if(r)ui.notifications.error(r)})}var H=function(){if(game.modules.get("swade-core-rules")?.active&&game.modules.get("swpf-core-rules")?.active)r="\u0414\u043B\u044F <b>Savage Pathfinder</b> \u043D\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u043C\u043E\u0434\u0443\u043B\u044C <b>SWADE Core Rules</b>. \u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u0435 \u0435\u0433\u043E, \u0438\u043D\u0430\u0447\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C.";else if(!game.modules.get("swade-core-rules")?.active&&game.modules.get("deadlands-core-rules")?.active)r="\u0414\u043B\u044F <b>Deadlands</b> \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u043C\u043E\u0434\u0443\u043B\u044C <b>SWADE Core Rules</b>. \u0410\u043A\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0435\u0433\u043E, \u0438\u043D\u0430\u0447\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C.";else if(game.modules.get("swpf-core-rules")?.active)n("swade/swpf");else if(game.modules.get("swade-core-rules")?.active)n("swade/core");else n("swade/basic")},T=function(){if(typeof Babele==="undefined")return;Babele.get().registerConverters({convertCategory:(e)=>{if(!e)return;return f(e,X)},convertRequirements:(e)=>{if(!e)return;const{packs:l}=Babele.get(),o=l.find((a)=>a.metadata.id==="swade.edges").translations,s=l.find((a)=>a.metadata.id==="swade.hindrances").translations,i=l.find((a)=>a.metadata.id==="swade.skills").translations;return e.map((a)=>{if(!a.label)return a;const t=V[a.label]||o[a.label]?.name||s[a.label]?.name||i[a.label]?.name;if(t)a.label=t;return a})}})},r,V={"Arcane Background (Any)":"\u0421\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0434\u0430\u0440 (\u043B\u044E\u0431\u043E\u0439)","Arcane Background (Gifted)":"\u0421\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0434\u0430\u0440 (\u0444\u0435\u043D\u043E\u043C\u0435\u043D)","Arcane Background (Miracles)":"\u0421\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0434\u0430\u0440 (\u0447\u0443\u0434\u0435\u0441\u0430)","Arcane Background (Magic)":"\u0421\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0434\u0430\u0440 (\u043C\u0430\u0433\u0438\u044F)","Arcane Background (Psionics)":"\u0421\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0434\u0430\u0440 (\u043F\u0441\u0438\u043E\u043D\u0438\u043A\u0430)","Arcane Background (Weird Science)":"\u0421\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0434\u0430\u0440 (\u0431\u0435\u0437\u0443\u043C\u043D\u0430\u044F \u043D\u0430\u0443\u043A\u0430)","arcane skill":"\u0441\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u043D\u0430\u0432\u044B\u043A","Tough as Nails":"\u041D\u0435\u0441\u0433\u0438\u0431\u0430\u0435\u043C\u044B\u0439","Work the Room":"\u0417\u0430\u0432\u043E\u0434\u0438\u043B\u0430","Professional in affected Trait":"\u041F\u0440\u043E\u0444\u0435\u0441\u0441\u0438\u043E\u043D\u0430\u043B \u0432 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u043C \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0435","Expert in affected Trait":"\u041F\u0440\u043E\u0444\u0435\u0441\u0441\u0438\u043E\u043D\u0430\u043B+ \u0432 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u043C \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0435","maximum die type possible in affected Trait":"\u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430"},X={Background:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u0438",Combat:"\u0411\u043E\u0435\u0432\u044B\u0435",Professional:"\u041F\u0440\u043E\u0444\u0435\u0441\u0441\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0435",Social:"\u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0435",Weird:"\u041C\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0435",Leadership:"\u041B\u0438\u0434\u0435\u0440\u0441\u043A\u0438\u0435",Power:"\u0421\u0432\u0435\u0440\u0445\u044A\u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0435",Legendary:"\u041B\u0435\u0433\u0435\u043D\u0434\u0430\u0440\u043D\u044B\u0435"};function w(){n()}var q=function(e){if(game.user.isGM&&game.settings.get("ru-ru","displayAdjectiveControls"))e.find((o)=>o.name==="token").tools.push({name:"adjectives-mode",title:"\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0440\u043E\u0434\u0430 \u043F\u0440\u0438\u043B\u0430\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445",icon:"fas fa-female",active:CONFIG.Token.adjectivesPrefix==="TOKEN.RussianAdjectivesF",toggle:!0,onClick:(o)=>{if(o)ui.notifications.notify("\u0414\u043B\u044F \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u044B\u0445 \u043F\u0440\u0438\u043B\u0430\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F \u0436\u0435\u043D\u0441\u043A\u0438\u0439 \u0440\u043E\u0434"),CONFIG.Token.adjectivesPrefix="TOKEN.RussianAdjectivesF";else ui.notifications.notify("\u0414\u043B\u044F \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u044B\u0445 \u043F\u0440\u0438\u043B\u0430\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F \u043C\u0443\u0436\u0441\u043A\u043E\u0439 \u0440\u043E\u0434"),CONFIG.Token.adjectivesPrefix="TOKEN.RussianAdjectivesM"}})};Hooks.once("init",async()=>{const e=game.system.id.toLowerCase(),l=document.createElement("link");l.rel="stylesheet",l.href=`/modules/ru-ru/styles/${e}.css`,document.head.appendChild(l),CONFIG.Token.adjectivesPrefix="TOKEN.RussianAdjectivesM";const o={Beaufort:{editor:!0,fonts:[]},Exocet:{editor:!0,fonts:[]},"Fira Sans Extra Condensed":{editor:!0,fonts:[]},GWENT:{editor:!0,fonts:[]},Manuskript:{editor:!0,fonts:[]},"Marck Script":{editor:!0,fonts:[]},Montserrat:{editor:!0,fonts:[]},"Noto Sans Mono":{editor:!0,fonts:[]},"Noto Sans":{editor:!0,fonts:[]},"Noto Serif":{editor:!0,fonts:[]},"OCR-A":{editor:!0,fonts:[]}};CONFIG.fontDefinitions=foundry.utils.mergeObject(CONFIG.fontDefinitions,o),CONFIG.defaultFontFamily="Noto Sans",game.settings.register("ru-ru","sceneLabelFont",{name:"\u0428\u0440\u0438\u0444\u0442 \u043F\u043E\u0434\u043F\u0438\u0441\u0435\u0439 \u043D\u0430 \u0441\u0446\u0435\u043D\u0435",hint:"\u0428\u0440\u0438\u0444\u0442, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\u0439 \u0434\u043B\u044F \u0438\u043C\u0451\u043D \u0442\u043E\u043A\u0435\u043D\u043E\u0432 \u0438 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0439 \u0437\u0430\u043C\u0435\u0442\u043E\u043A \u043D\u0430 \u0441\u0446\u0435\u043D\u0435.",type:Number,default:Object.keys(CONFIG.fontDefinitions).indexOf(CONFIG.defaultFontFamily),choices:Object.keys(CONFIG.fontDefinitions),scope:"world",config:!0,restricted:!0,onChange:(a)=>{window.location.reload()}}),game.settings.register("ru-ru","displayAdjectiveControls",{name:"\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0442\u0435\u043B\u044C \u0440\u043E\u0434\u0430 \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u044B\u0445 \u043F\u0440\u0438\u043B\u0430\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445",hint:"\u0415\u0441\u043B\u0438 \u0432\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u044E \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u044B\u0445 \u043F\u0440\u0438\u043B\u0430\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u043A \u0442\u043E\u043A\u0435\u043D\u0430\u043C, \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0442\u0435\u043B\u044C \u0440\u043E\u0434\u0430 \u043D\u0430 \u043F\u0430\u043D\u0435\u043B\u044C \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432.",type:Boolean,default:!1,scope:"world",config:!0,restricted:!0,onChange:(a)=>{window.location.reload()}}),CONFIG.canvasTextStyle.fontFamily=Object.keys(CONFIG.fontDefinitions)[game.settings.get("ru-ru","sceneLabelFont")];const i={alientrpg:b,"blades-in-the-dark":c,"city-of-mist":p,deltagreen:m,dnd5e:d,dragonbane:v,dungeonworld:L,"forbidden-lands":g,investigator:x,mausritter:k,mouseguard:h,pbta:y,swade:B,yzecoriolis:w}[e];if(i)i();if(game.modules.get("quick-insert")?.active)Hooks.on("ready",async()=>{await game.settings.set("quick-insert","embeddedIndexing",!0)})});Hooks.on("getSceneControlButtons",q);
